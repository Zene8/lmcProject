/* === Base Styles & Variables === */
:root {
    -fx-font-family: "Segoe UI", Arial, sans-serif;
    -fx-font-size: 14px;

    /* Light Theme Colors */
    -fx-background: #FFFFFF;
    -fx-control-inner-background: #F0F2F5;
    -fx-color: #E1E4E8;
    -fx-text-base-color: #24292E;
    -fx-light-text-color: #586069;
    -fx-border-color: #D1D5DA;
    -fx-accent: #0366D6;
    -fx-accent-hover: #005CC5;
    -fx-error-color: #D73A49;
}

.root.dark-mode {
    /* Dark Theme Colors */
    -fx-background: #0D1117;
    -fx-control-inner-background: #161B22;
    -fx-color: #1F242C;
    -fx-text-base-color: #C9D1D9;
    -fx-light-text-color: #8B949E;
    -fx-border-color: #30363D;
    -fx-accent: #58A6FF;
    -fx-accent-hover: #388BFD;
    -fx-error-color: #F85149;
}

/* === General Theme Application === */
.root {
    -fx-background-color: -fx-background;
}

/* Backgrounds and Text */
.sidebar,
.console,
.code-area,
.tree-view,
.tab-pane .tab-content-area,
.titled-pane>*.content,
.text-field,
.find-replace-popup,
.memory-mailboxes-view {
    -fx-background-color: -fx-control-inner-background;
}

.label,
.menu-bar .label,
.titled-pane>.title>.text,
.tree-cell,
.tab-label,
.text-field {
    -fx-text-fill: -fx-text-base-color;
}

/* Headers and Toolbars */
.menu-bar,
.tab-header-background,
.titled-pane>.title,
.control-panel,
.toggle-button {
    -fx-background-color: -fx-color;
}

/* Accent Colors */
.button,
.slider .thumb,
.tab:selected,
.toggle-button:selected {
    -fx-background-color: -fx-accent;
}

.button:hover,
.menu:hover,
.menu-item:hover,
.menu:showing,
.toggle-button:hover {
    -fx-background-color: -fx-accent-hover;
}

.tab:selected {
    -fx-border-color: -fx-accent;
}

/* Specific Overrides/Refinements */
.sidebar {
    -fx-border-width: 0 1px 0 0;
    -fx-padding: 5px;
}

.sidebar.right {
    -fx-border-width: 0 0 0 1px;
}

.console {
    -fx-border-width: 1px 0 0 0;
    -fx-padding: 5px;
}

.split-pane-divider {
    -fx-background-color: -fx-border-color;
    -fx-padding: 0 1px;
    -fx-background-color: -fx-border-color;
}

.tab {
    -fx-padding: 8px 16px;
    -fx-border-color: transparent;
    -fx-focus-color: transparent;
    -fx-faint-focus-color: transparent;
}

.tab:selected {
    -fx-border-width: 2px 0 0 0;
}

.tab-label {
    -fx-text-fill: -fx-text-base-color;
}

.tab:selected .tab-label {
    -fx-text-fill: -fx-text-base-color;
}

.titled-pane>.title {
    -fx-padding: 8px;
}

.titled-pane>.title>.text {
    -fx-font-weight: bold;
}

.titled-pane>*.content {
    -fx-padding: 0;
    -fx-border-width: 1px 0 0 0;
}

.button {
    -fx-text-fill: white;
    -fx-font-weight: bold;
    -fx-padding: 6px 12px;
    -fx-background-radius: 3px;
    -fx-border-width: 0;
}

.icon-button {
    -fx-background-color: transparent;
    -fx-padding: 4px;
    -fx-background-radius: 3px;
}

.icon-button:hover {
    -fx-background-color: -fx-color;
}

/* Icon color based on theme */
.icon-button .ikonli-font-icon {
    -fx-fill: -fx-text-base-color;
}

.code-area {
    -fx-font-family: "Consolas", "Monaco", monospace;
}

.paragraph-box:has-caret {
    -fx-background-color: -fx-color;
}

.error-icon {
    -fx-fill: -fx-error-color;
}

.current-line-highlight {
    -fx-background-color: rgba(0, 122, 204, 0.2);
}

.dark-mode .current-line-highlight {
    -fx-background-color: rgba(88, 166, 255, 0.2);
}

.tree-cell:selected {
    -fx-background-color: -fx-accent;
}

.tree-cell:selected .text {
    -fx-fill: white;
}

.control-panel {
    -fx-padding: 5px;
    -fx-spacing: 10px;
    -fx-alignment: CENTER_RIGHT;
}

.slider .track {
    -fx-background-color: -fx-border-color;
    -fx-pref-height: 4px;
}

.slider .thumb {
    -fx-background-color: -fx-accent;
    -fx-background-radius: 50%;
    -fx-pref-width: 12px;
    -fx-pref-height: 12px;
}

.slider .axis {
    -fx-tick-label-fill: -fx-light-text-color;
}

.toggle-button {
    -fx-background-radius: 3px;
    -fx-padding: 6px 12px;
}

.status-bar {
    -fx-background-color: -fx-accent;
    -fx-text-fill: white;
    -fx-padding: 5px 10px;
    -fx-font-size: 12px;
}

.text-field {
    -fx-background-radius: 3px;
    -fx-padding: 5px;
    -fx-border-width: 1px;
}

.text-field:focused,
.button:focused,
.toggle-button:focused {
    -fx-border-color: -fx-accent;
    -fx-border-width: 2px;
}

.scroll-pane>.scroll-bar:vertical>.track-background,
.scroll-pane>.scroll-bar:horizontal>.track-background {
    -fx-background-color: -fx-color;
}

.scroll-pane>.scroll-bar:vertical>.thumb,
.scroll-pane>.scroll-bar:horizontal>.thumb {
    -fx-background-color: -fx-accent;
    -fx-background-radius: 5px;
}

.scroll-pane>.scroll-bar:vertical>.thumb:hover,
.scroll-pane>.scroll-bar:horizontal>.thumb:hover {
    -fx-background-color: -fx-accent-hover;
}

.memory-mailboxes-view {
    -fx-border-width: 1px;
    -fx-padding: 5px;
}

.memory-cell {
    -fx-background-color: -fx-control-inner-background;
    -fx-border-width: 1px;
    -fx-padding: 5px;
}

.memory-cell-highlight {
    -fx-background-color: -fx-accent;
}

.memory-cell-pc {
    -fx-border-color: -fx-accent;
    -fx-border-width: 2px;
}

.memory-cell-instruction {
    -fx-font-weight: bold;
}

.memory-digit {
    -fx-font-family: "Consolas", "Monaco", monospace;
    -fx-font-size: 16px;
}

.memory-instruction-text {
    -fx-font-size: 10px;
    -fx-text-fill: -fx-light-text-color;
}